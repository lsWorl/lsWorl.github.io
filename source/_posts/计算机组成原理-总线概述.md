---
title: 计算机组成原理-总线概述
date: 2024-01-05 19:19:01
categories: 计算机组成原理
mathjax: true
tags:
 - 计算机组成原理
 - 总线
---

<meta name="referrer" content="no-referrer"/>

### 总线的基本概念

总线是一组能为多个部件同时共享的公共信息传送线路。由于总线发送信号，与总线连接的所有部件都能接受到，所以**同一时刻只能有一个部件发送数据**。可**有多个部件同时接受数据**。

![](https://img-blog.csdnimg.cn/direct/c7b06567f9e84fcf8eb86815ea13d20b.png)

##### 总线的特点：

共享：指总线上可以挂接多个部件，各个部件之间互相交换的信息都可以通过这组线路**分时共享**。

分时：指同一时刻只允许有一个部件向总线发送信息，如果系统中有多个部件，则它们只能分时向总线发送信息。



### 总线的分类



#### 串行总线与并行总线

**串行总线：**

每次传送只传送1bit数据。

优点：只需要一条传输线，成本低廉，广泛应用于长距离传输；应用于计算机内部时，可以节省布线空间。

缺点：在数据发送和接受的时候要进行拆卸和装配，要考虑串行，并行转换的问题。



**并行总线：**

每次可以并行发送多bit数据。

优点：总线的逻辑时序比较简单，电路实现起来比较容易。

缺点：信号线数量多，占用更多的布线空间；远距离传输成本高昂；由于工作频率较高时，并行的信号线之间会产生严重干扰，对每条线等长的要求也越高，所以无法持续提升工作频率。



#### 按功能进行划分



##### 片内总线

片内总线式芯片内部的总线，如CPU内部寄存器与寄存器之间、ALU之间的公共连接线。



##### 系统总线

系统总线式计算机系统内各功能部件（CPU、主存、I/O接口）之间相互连接的总线。又可分为数据总线、地址总线和控制总线。

**数据总线**的根数与机器字长、存储字长有关，为双向传输。

**地址总线**的根数与主存地址空间大小及设备数量有关，为单向传输。

**控制总线**用于传输控制信息，包括CPU送出的控制命令和主存（或外设）返回CPU的反馈信号。





### 系统总线的结构



#### 单总线结构



![](https://img-blog.csdnimg.cn/direct/0468dbe4f3e24fc9ab6ef941f3c12c72.png)

单总线结构将CPU、主存、I/O设备都连接在一组总线上，允许I/O设备之间、I/O设备和CPU之间直接交换信息。

**优点**：结构简单，成本低，易于接入新的设备。

**缺点**：带宽低、父爱中，多个部件只能争用唯一的总线，且不支持并发传送操作。



#### 双总线结构



![](https://img-blog.csdnimg.cn/direct/5ff17cfc03c6489eb36453d973fed39b.png)

双总线结构式用两条总线，一条是**主存总线**，用于CPU、主存和通道之间进行数据传送；另一条是**I/O总线**，用于多个外部设备与通道之间进行数据传送。

上图**通道是具有特殊功能的处理器**，对输入输出设备统一管理。

该模式支持**突发传送**（送出一个地址，收到多个地址连续的数据）。

**优点**：将较低俗的I/O设备从单总线上分离处理，实现存储器总线和I/O设备分离。

**缺点**：需要增加通道等硬件设备。



#### 三总线结构



![](https://img-blog.csdnimg.cn/direct/a28a1ef60ecb4f67a192bbb0d1fdb1c6.png)

三总线结构式在计算机系统各部件之间采用3条各自独立的总线来构成信息通路，这3条总线分别为主存总线、I/O总线和直接内存访问DMA总线。

**优点**：提高了I/O设备的性能，使其更快地响应命令，提高系统吞吐量。

**缺点**：系统工作效率较低、



### 总线的性能指标



#### 总线的传输周期（总线周期）

**指一次总线操作所需的时间**。总线传输周期通常由若干各总线时钟周期构成。



#### 总线时钟周期

即**机器的时钟周期**。计算机有一个统一的时钟，以控制整个计算机的各个部件，总线也要受此时钟的控制。（现代计算机中，总线时钟周期也有可能由桥接器设备提供）。



#### 总线的工作频率

总线上各种操作的频率，为**总线周期的倒数**。若总线周期=N个时钟周期，则总线的工作频率=时钟频率/N。实际上表示**总线在一秒内会传送几次数据**。



#### 总线的时钟频率

即机器的时钟频率，为**时钟周期的倒数**。若时钟周期为T，则时钟频率为1/T.

实际上指**一秒内由多少个时钟周期**。



#### 总线宽度

又称为总线位宽，它是**总线上同时能够传输的数据位数**，通常指**数据总线的根数**，如32根称为32位总线。



#### 总线带宽

可理解为总线的数据传输率，即**单位时间内总线上可传输数据的位数**，通常每秒传送信息的字节数来衡量，单位可用字节/秒表示。
$$
总线带宽=总线工作频率\times 总线宽度(bit/s)=总线工作频率\times(总线宽度/8)(B/s)
$$
总线带宽指的是总线本身所能达到的**最高传输速率**。



#### 总线复用

总线复用是指一种信号线在**不同时间传输不同的信息**。可以使用较少的线传输更多的信息，从而节省了空间和成本。



#### 信号线数

地址总线、数据总线和控制总线3种总线数的总和称为信号线数。



### 总线传输



总线传输总共分为四个阶段：

1. 申请分配阶段：由需要使用总线的主模块提出申请，经总线仲裁后决定下一传输周期的总线使用权。也可将此阶段细分为**传输请求和总线仲裁**两个阶段。
2. 寻址阶段：获得使用权的主模块通过总线发出本次要访问的从模块的地址和相关命令。
3. 传输阶段：主模块和从模块进行数据交换，可单向或双向进行数据传送。
4. 结束阶段：主模块**有关信息**均从系统总线上撤除，让出总线使用权。



总线传输会根据其定时方式来协调发送和接受双方的传送定时关系。

#### 同步定时方式

总线控制器采用**统一的时钟信号**来协调发送和接受双方的传送定时关系。

优点：传送速度快，具有较高的传输速率；总线控制逻辑简单。

缺点：主从设备属于强制性同步；不能及时进行数据通信的有效性检验，可靠性差。

同步通信适用于**总线长度较短**以及总线所接**部件的存取时间近**的系统。

#### 异步定时方式

异步定时方式通过传输双方相互制约的“握手”信号来实现定时控制。

优点：总线周期长度可变，可保证两个工作速度相差很大的部件或设备之间可靠地进行信息交换，自动适应时间的配合。

缺点：比同步控制方式复杂，速度比同步定时慢。
